<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>内置组件 keep-alive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="./vue_logo.png" />
    <script src="../../assets/js/vue.js"></script>
  </head>

  <body>
    <h1>
      内置组件
      keep-alive：Vue的内置组件，能在组件切换的时候，可以将状态保存在内存中，防止重复渲染DOM
    </h1>
    <hr />
    <div id="app">
      <button @click="show = !show">组件的显示与隐藏</button>
      <keep-alive> <wmx v-if="show"></wmx></keep-alive>
    </div>
    <!-- 模板 接受外部传进来的值 -->
    <!-- slot功能让组件接收传递过来的值，并在模板中接收显示 -->
    <template id="wmx">
      <div>
        <button @click="showContent">显示组件的内容</button>
        <p>{{ data }}</p>
      </div>
    </template>
    <script type="text/javascript">
      var wmx = {
        template: '#wmx',
        data() {
          return {
            data: ''
          }
        },
        methods: {
          showContent() {
            this.data = '我是组件的内容啦'
          }
        },
        destroyed() {
          console.log('组件销毁了')
        },
        updated() {
          console.log('组件更新了')
        }
      }
      var app = new Vue({
        el: '#app',
        data() {
          return {
            show: false
          }
        },
        components: {
          wmx
        }
      })
    </script>
  </body>
</html>
